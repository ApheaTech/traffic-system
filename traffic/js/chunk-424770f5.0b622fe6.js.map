{"version":3,"sources":["webpack:///./src/views/allocate-manage/apply-vehicle.vue?c82b","webpack:///./src/views/allocate-manage/apply-vehicle.vue?1c2d","webpack:///src/views/allocate-manage/apply-vehicle.vue","webpack:///./src/views/allocate-manage/apply-vehicle.vue?5d81","webpack:///./src/views/allocate-manage/apply-vehicle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","staticStyle","tableData","text","value","statusFilterHandler","scopedSlots","_u","key","fn","scope","row","orderStatus","on","$event","handleClickAllocate","handleClickDelete","dialogFormVisible","_s","currentOrderStatus","currentApplicationTime","currentCarDepartment","currentSafetySupervisor","currentCarCategory","currentPassengerCounter","currentPassengerName","currentCarReason","currentCarRoute","currentDepartureTime","currentPredictionReturnTime","currentDestination","currentPickUpLocation","currentApplicantNumber","form","model","callback","$$v","applyDriver","expression","_l","item","driverName","searchVehicle","applyVehicleCategory","index","carType","applyVehicle","slot","submitAllocateTask","staticRenderFns","methods","applicationTime","carDepartment","safetySupervisor","carCategory","passengerCounter","passengerName","carReason","carRoute","departureTime","predictionReturnTime","destination","pickUpLocation","applicantNumber","axios","console","log","stautsFilterHandler","property","mounted","data","freeDriverList","freeVehicleList","vehicleCategoryList","component"],"mappings":"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","file":"js/chunk-424770f5.0b622fe6.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./apply-vehicle.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./apply-vehicle.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"applyManage\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"车辆调派\")]),_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home/applyManage'}}},[_vm._v(\"用车申请管理\")])],1),_c('h3',[_vm._v(\"用车申请管理\")]),_c('el-row',[_c('el-col',{attrs:{\"span\":24,\"offset\":0}},[_c('el-table',{staticClass:\"list\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"true\",\"highlight-current-row\":\"true\"}},[_c('el-table-column',{attrs:{\"prop\":\"orderStatus\",\"label\":\"订单状态\",\"width\":\"110\",\"column-key\":\"orderStatus\",\"filters\":[\n          {text: '待审批', value: '待审批'},\n          {text: '已审批', value: '已审批'},\n          {text: '已调配', value: '已调配'},\n          {text: '已发车', value: '已发车'},\n          {text: '已完成', value: '已完成'}],\"filter-method\":_vm.statusFilterHandler}}),_c('el-table-column',{attrs:{\"prop\":\"orderid\",\"label\":\"订单编号\",\"width\":\"150\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"applicationTime\",\"label\":\"申请时间\",\"width\":\"150\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"carDepartment\",\"label\":\"用车部门\",\"width\":\"150\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"safetySupervisor\",\"label\":\"安全监督员\",\"width\":\"120\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"carCategory\",\"label\":\"车辆种类\",\"width\":\"150\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"passengerCounter\",\"label\":\"乘车人数\",\"width\":\"150\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"passengerName\",\"label\":\"乘车人员名单\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"carReason\",\"label\":\"用车事由\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"carRoute\",\"label\":\"经由路线\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"departureTime\",\"label\":\"出发时间\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"predictionReturnTime\",\"label\":\"预计返回时间\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"destination\",\"label\":\"目的地\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"pickUpLocation\",\"label\":\"上车地点\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"applicantNumber\",\"label\":\"申请人联系电话\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"170\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[(scope.row.orderStatus=='已审批')?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClickAllocate(scope.row)}}},[_vm._v(\"调配\")]):_c('div',{staticStyle:{\"padding\":\"10px\"}})],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClickDelete(scope.row)}}},[_vm._v(\"删除\")])],1)],1)]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"车辆调配\",\"visible\":_vm.dialogFormVisible,\"width\":\"21%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('p',{staticStyle:{\"text-align\":\"left\",\"font-size\":\"18px\"}},[_vm._v(\"订单详情：\")]),_c('table',{staticClass:\"orderDetailTable\",staticStyle:{\"margin-bottom\":\"30px\"}},[_c('tr',[_c('td',[_vm._v(\"订单状态:\")]),_c('td',[_vm._v(_vm._s(_vm.currentOrderStatus))]),_c('td',[_vm._v(\"申请时间:\")]),_c('td',[_vm._v(_vm._s(_vm.currentApplicationTime))])]),_c('tr',[_c('td',[_vm._v(\"用车部门:\")]),_c('td',[_vm._v(_vm._s(_vm.currentCarDepartment))]),_c('td',[_vm._v(\"安全监督员:\")]),_c('td',[_vm._v(_vm._s(_vm.currentSafetySupervisor))])]),_c('tr',[_c('td',[_vm._v(\"车辆种类:\")]),_c('td',[_vm._v(_vm._s(_vm.currentCarCategory))]),_c('td',[_vm._v(\"乘车人数:\")]),_c('td',[_vm._v(_vm._s(_vm.currentPassengerCounter))])]),_c('tr',[_c('td',[_vm._v(\"乘车人员名单\")]),_c('td',[_vm._v(_vm._s(_vm.currentPassengerName))]),_c('td',[_vm._v(\"用车事由:\")]),_c('td',[_vm._v(_vm._s(_vm.currentCarReason))])]),_c('tr',[_c('td',[_vm._v(\"经由路线:\")]),_c('td',[_vm._v(_vm._s(_vm.currentCarRoute))]),_c('td',[_vm._v(\"出发时间:\")]),_c('td',[_vm._v(_vm._s(_vm.currentDepartureTime))])]),_c('tr',[_c('td',[_vm._v(\"预计返回时间\")]),_c('td',[_vm._v(_vm._s(_vm.currentPredictionReturnTime))]),_c('td',[_vm._v(\"出发时间:\")]),_c('td',[_vm._v(_vm._s(_vm.currentDestination))])]),_c('tr',[_c('td',[_vm._v(\"上车地点:\")]),_c('td',[_vm._v(_vm._s(_vm.currentPickUpLocation))]),_c('td',[_vm._v(\"申请人联系电话:\")]),_c('td',[_vm._v(_vm._s(_vm.currentApplicantNumber))])])]),_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"调配驾驶员\",\"label-width\":\"100px\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择驾驶员\",\"filterable\":\"\"},model:{value:(_vm.applyDriver),callback:function ($$v) {_vm.applyDriver=$$v},expression:\"applyDriver\"}},_vm._l((_vm.freeDriverList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item.driverName,\"value\":item.driverName}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"调配车辆\",\"label-width\":\"100px\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择车型\"},on:{\"change\":function($event){return _vm.searchVehicle(_vm.applyVehicleCategory)}},model:{value:(_vm.applyVehicleCategory),callback:function ($$v) {_vm.applyVehicleCategory=$$v},expression:\"applyVehicleCategory\"}},_vm._l((_vm.vehicleCategoryList),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.carType,\"value\":item.carType}})}),1),_c('el-select',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"placeholder\":\"请选择车辆\",\"filterable\":\"\"},model:{value:(_vm.applyVehicle),callback:function ($$v) {_vm.applyVehicle=$$v},expression:\"applyVehicle\"}},_vm._l((_vm.freeVehicleList),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitAllocateTask}},[_vm._v(\"下发任务\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"applyManage\">\r\n    <!-- 面包屑 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">车辆调派</el-breadcrumb-item>\r\n      <el-breadcrumb-item :to=\"{ path: '/home/applyManage'}\">用车申请管理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <h3>用车申请管理</h3>\r\n    <el-row>\r\n      <el-col :span=\"24\" :offset=\"0\">\r\n       <!-- 表格 -->\r\n        <el-table class=\"list\" :data=\"tableData\" border=\"true\" style=\"width: 100%\" highlight-current-row=\"true\">\r\n          <el-table-column prop=\"orderStatus\" label=\"订单状态\" width=\"110\" column-key=\"orderStatus\"\r\n          :filters=\"[\r\n            {text: '待审批', value: '待审批'},\r\n            {text: '已审批', value: '已审批'},\r\n            {text: '已调配', value: '已调配'},\r\n            {text: '已发车', value: '已发车'},\r\n            {text: '已完成', value: '已完成'}]\"\r\n          :filter-method=\"statusFilterHandler\"\r\n        >\r\n          </el-table-column>\r\n          <el-table-column prop=\"orderid\" label=\"订单编号\" width=\"150\" sortable></el-table-column>\r\n          <el-table-column prop=\"applicationTime\" label=\"申请时间\" width=\"150\" sortable></el-table-column>\r\n          <el-table-column prop=\"carDepartment\" label=\"用车部门\" width=\"150\" sortable></el-table-column>\r\n          <el-table-column prop=\"safetySupervisor\" label=\"安全监督员\" width=\"120\" sortable></el-table-column>\r\n          <el-table-column prop=\"carCategory\" label=\"车辆种类\" width=\"150\" sortable></el-table-column>\r\n          <el-table-column prop=\"passengerCounter\" label=\"乘车人数\" width=\"150\" sortable></el-table-column>\r\n          <el-table-column prop=\"passengerName\" label=\"乘车人员名单\" width=\"250\"></el-table-column>\r\n          <el-table-column prop=\"carReason\" label=\"用车事由\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"carRoute\" label=\"经由路线\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"departureTime\" label=\"出发时间\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"predictionReturnTime\" label=\"预计返回时间\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"destination\" label=\"目的地\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"pickUpLocation\" label=\"上车地点\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"applicantNumber\" label=\"申请人联系电话\" width=\"150\"></el-table-column>\r\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\r\n            <template slot-scope=\"scope\">\r\n              <el-row>\r\n                <el-col :span=\"12\">\r\n                  <el-button @click=\"handleClickAllocate(scope.row)\" type=\"primary\" size=\"small\" v-if=\"scope.row.orderStatus=='已审批'\">调配</el-button>\r\n                  <div v-else style=\"padding:10px;\"></div>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-button @click=\"handleClickDelete(scope.row)\" type=\"danger\" size=\"small\">删除</el-button>\r\n                </el-col>\r\n              </el-row>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-dialog title=\"车辆调配\" :visible.sync=\"dialogFormVisible\" width=\"21%\">\r\n          <p style=\"text-align:left;font-size:18px;\">订单详情：</p>\r\n          <table class=\"orderDetailTable\" style=\"margin-bottom: 30px\">\r\n              <tr>\r\n                <td>订单状态:</td>\r\n                <td>{{ currentOrderStatus }}</td>\r\n                <td>申请时间:</td>\r\n                <td>{{ currentApplicationTime }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>用车部门:</td>\r\n                <td>{{ currentCarDepartment }}</td>\r\n                <td>安全监督员:</td>\r\n                <td>{{ currentSafetySupervisor }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>车辆种类:</td>\r\n                <td>{{ currentCarCategory }}</td>\r\n                <td>乘车人数:</td>\r\n                <td>{{ currentPassengerCounter }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>乘车人员名单</td>\r\n                <td>{{ currentPassengerName }}</td>\r\n                <td>用车事由:</td>\r\n                <td>{{ currentCarReason }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>经由路线:</td>\r\n                <td>{{ currentCarRoute }}</td>\r\n                <td>出发时间:</td>\r\n                <td>{{ currentDepartureTime }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>预计返回时间</td>\r\n                <td>{{ currentPredictionReturnTime }}</td>\r\n                <td>出发时间:</td>\r\n                <td>{{ currentDestination }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>上车地点:</td>\r\n                <td>{{ currentPickUpLocation }}</td>\r\n                <td>申请人联系电话:</td>\r\n                <td>{{ currentApplicantNumber }}</td>\r\n              </tr>\r\n            </table>\r\n          <el-form :model=\"form\">\r\n            <el-form-item label=\"调配驾驶员\" label-width=\"100px\">\r\n              <el-select v-model=\"applyDriver\" placeholder=\"请选择驾驶员\" filterable>\r\n                <el-option v-for=\"item in freeDriverList\" v-bind:key=\"item\" v-bind:label=\"item.driverName\" v-bind:value=\"item.driverName\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"调配车辆\" label-width=\"100px\">\r\n              <el-select v-model=\"applyVehicleCategory\" placeholder=\"请选择车型\" @change=\"searchVehicle(applyVehicleCategory)\">\r\n                <el-option v-for=\"item in vehicleCategoryList\" v-bind:key=\"item.index\" v-bind:label=\"item.carType\" v-bind:value=\"item.carType\"></el-option>\r\n              </el-select>\r\n              <el-select v-model=\"applyVehicle\" placeholder=\"请选择车辆\" style=\"margin-top:10px;\" filterable>\r\n                <el-option v-for=\"item in freeVehicleList\" v-bind:key=\"item.index\" v-bind:label=\"item\" v-bind:value=\"item\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"submitAllocateTask\">下发任务</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    // 调配\r\n    handleClickAllocate (row) {\r\n      // console.log(row)\r\n      this.dialogFormVisible = true\r\n      this.currentOrderStatus = row.orderStatus\r\n      this.currentApplicationTime = row.applicationTime\r\n      this.currentCarDepartment = row.carDepartment\r\n      this.currentSafetySupervisor = row.safetySupervisor\r\n      this.currentCarCategory = row.carCategory\r\n      this.currentPassengerCounter = row.passengerCounter\r\n      this.currentPassengerName = row.passengerName\r\n      this.currentCarReason = row.carReason\r\n      this.currentCarRoute = row.carRoute\r\n      this.currentDepartureTime = row.departureTime\r\n      this.currentPredictionReturnTime = row.predictionReturnTime\r\n      this.currentDestination = row.destination\r\n      this.currentPickUpLocation = row.pickUpLocation\r\n      this.currentApplicantNumber = row.applicantNumber\r\n      this.applyDriver = ''\r\n      this.applyVehicleCategory = ''\r\n      this.applyVehicle = ''\r\n      // 获取驾驶员\r\n      this.axios\r\n        .get('/seleteDriverFree')\r\n        .then(response => {\r\n          console.log(response)\r\n          this.freeDriverList = response.data\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n      // 获取车型\r\n      this.axios\r\n        .get('/getAllCarType')\r\n        .then(response => {\r\n          console.log(response)\r\n          this.vehicleCategoryList = response.data\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    handleClickDelete (row) {\r\n      console.log(row.orderStatus)\r\n      console.log(row.carDepartment)\r\n      this.axios\r\n        .get('/deleteusercarorderbyid', {\r\n          params: {\r\n            orderid: row.orderid\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n          this.axios\r\n            .get('/seleteCarOrder')\r\n            .then(response => {\r\n              this.tableData = response.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    stautsFilterHandler (value, row, column) {\r\n      const property = 'orderStatus'\r\n      return row[property] === value\r\n    },\r\n    searchVehicle (category) {\r\n      // 根据车型获取可用车辆\r\n      this.axios\r\n        .get('/seleteCarNumbreByCarType', {\r\n          params: {\r\n            carType: category\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n          this.freeVehicleList = response.data\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    submitAllocateTask () {\r\n      // 提交调配任务\r\n      this.dialogFormVisible = false\r\n      this.axios\r\n        .get('http://localhost:3000/allocateTask', {\r\n          params: {\r\n            driver: this.applyDriver,\r\n            carNumber: this.applyVehicle\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n        .catch(function (error) { // 请求失败处理\r\n          console.log(error)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.axios\r\n      .get('/seleteCarOrder')\r\n      .then(response => {\r\n        console.log(response)\r\n        this.tableData = response.data\r\n      })\r\n      .catch(function (error) { // 请求失败处理\r\n        console.log(error)\r\n      })\r\n  },\r\n  data () {\r\n    return {\r\n      freeDriverList: [],\r\n      freeVehicleList: [],\r\n      vehicleCategoryList: [],\r\n      applyDriver: '',\r\n      applyVehicleCategory: '',\r\n      applyVehicle: '',\r\n      tableData: [{}],\r\n      // tableData: [\r\n      //   {\r\n      //     orderStatus: '待审批'\r\n      //   },\r\n      //   {\r\n      //     orderStatus: '已审批',\r\n      //     applicationTime: '2020-08-19',\r\n      //     carDepartment: '行政部门',\r\n      //     safetySupervisor: '李雷',\r\n      //     carCategory: '任意',\r\n      //     passengerCounter: '3',\r\n      //     passengerName: 'A B C',\r\n      //     carReason: '值班',\r\n      //     carRoute: '环线',\r\n      //     departureTime: '2020-08-22',\r\n      //     predictionReturnTime: '2020-08-23',\r\n      //     destination: '气田',\r\n      //     pickUpLocation: '公司',\r\n      //     applicantNumber: '188888888'\r\n      //   },\r\n      //   {\r\n      //     orderStatus: '已调配',\r\n      //     carDepartment: '行政部门'\r\n      //   },\r\n      //   {\r\n      //     orderStatus: '已发车'\r\n      //   },\r\n      //   {\r\n      //     orderStatus: '已完成'\r\n      //   }\r\n      // ],\r\n      dialogFormVisible: false,\r\n      currentOrderStatus: '',\r\n      currentApplicationTime: '',\r\n      currentCarDepartment: '',\r\n      currentSafetySupervisor: '',\r\n      currentCarCategory: '',\r\n      currentPassengerCounter: '',\r\n      currentPassengerName: '',\r\n      currentCarReason: '',\r\n      currentCarRoute: '',\r\n      currentDepartureTime: '',\r\n      currentPredictionReturnTime: '',\r\n      currentDestination: '',\r\n      currentPickUpLocation: '',\r\n      currentApplicantNumber: ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .list {\r\n    margin: 0 auto;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./apply-vehicle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./apply-vehicle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./apply-vehicle.vue?vue&type=template&id=9a5a8336&\"\nimport script from \"./apply-vehicle.vue?vue&type=script&lang=js&\"\nexport * from \"./apply-vehicle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./apply-vehicle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}